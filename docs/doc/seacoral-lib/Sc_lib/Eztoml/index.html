<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Eztoml (seacoral-lib.Sc_lib.Eztoml)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">seacoral-lib</a> &#x00BB; <a href="../index.html">Sc_lib</a> &#x00BB; Eztoml</nav><header class="odoc-preamble"><h1>Module <code><span>Sc_lib.Eztoml</span></code></h1><p>A manager for manipulating toml files, used for configuring the orchestrator.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-row"><a href="#type-row" class="anchor"></a><code><span><span class="keyword">type</span> <span>'c row</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-row_def_mandatory"><a href="#type-row_def_mandatory" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'c) row_def_mandatory</span></span><span> =
  <span><span>(<span class="type-var">'a</span>, <span><span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-row">row</a></span>)</span> <a href="../Eztoml_helpers/index.html#type-def_mandatory">Eztoml_helpers.def_mandatory</a></span></span></code></div><div class="spec-doc"><p>Definitions for mandatory values</p><p>Suitable for rows with &quot;primitive&quot; types, that come with a documentation string that must specify the default value. As of now the default value is only provided for documentation purposes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unit"><a href="#val-unit" class="anchor"></a><code><span><span class="keyword">val</span> unit : <span><span>(unit, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span><span class="keyword">val</span> bool : <span><span>(bool, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span><span>(int, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float"><a href="#val-float" class="anchor"></a><code><span><span class="keyword">val</span> float : <span><span>(float, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span><span>(string, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool_list"><a href="#val-bool_list" class="anchor"></a><code><span><span class="keyword">val</span> bool_list : <span><span>(<span>bool list</span>, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int_list"><a href="#val-int_list" class="anchor"></a><code><span><span class="keyword">val</span> int_list : <span><span>(<span>int list</span>, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float_list"><a href="#val-float_list" class="anchor"></a><code><span><span class="keyword">val</span> float_list : <span><span>(<span>float list</span>, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_list"><a href="#val-string_list" class="anchor"></a><code><span><span class="keyword">val</span> string_list : <span><span>(<span>string list</span>, <span class="type-var">'c</span>)</span> <a href="#type-row_def_mandatory">row_def_mandatory</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-row_def_optional"><a href="#type-row_def_optional" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'c) row_def_optional</span></span><span> =
  <span><span>(<span class="type-var">'a</span>, <span><span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-row">row</a></span>)</span> <a href="../Eztoml_helpers/index.html#type-def_optional">Eztoml_helpers.def_optional</a></span></span></code></div><div class="spec-doc"><p>Definitions for optional values</p><p>Similar to <a href="#type-row_def_mandatory"><code>row_def_mandatory</code></a>, except that no default value is provided.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bool_opt"><a href="#val-bool_opt" class="anchor"></a><code><span><span class="keyword">val</span> bool_opt : <span><span>(bool, <span class="type-var">'c</span>)</span> <a href="#type-row_def_optional">row_def_optional</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int_opt"><a href="#val-int_opt" class="anchor"></a><code><span><span class="keyword">val</span> int_opt : <span><span>(int, <span class="type-var">'c</span>)</span> <a href="#type-row_def_optional">row_def_optional</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-float_opt"><a href="#val-float_opt" class="anchor"></a><code><span><span class="keyword">val</span> float_opt : <span><span>(float, <span class="type-var">'c</span>)</span> <a href="#type-row_def_optional">row_def_optional</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_opt"><a href="#val-string_opt" class="anchor"></a><code><span><span class="keyword">val</span> string_opt : <span><span>(string, <span class="type-var">'c</span>)</span> <a href="#type-row_def_optional">row_def_optional</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-row_def_checked"><a href="#type-row_def_checked" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'c) row_def_checked</span></span><span> =
  <span><span>(<span class="type-var">'a</span>, <span><span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="#type-row">row</a></span>)</span> <a href="../Eztoml_helpers/index.html#type-checked_def_with_default">Eztoml_helpers.checked_def_with_default</a></span></span></code></div><div class="spec-doc"><p>Definitions for mandatory values with some additional constraint</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-strictly_positive_int"><a href="#val-strictly_positive_int" class="anchor"></a><code><span><span class="keyword">val</span> strictly_positive_int : <span><span>(int, <span class="type-var">'c</span>)</span> <a href="#type-row_def_checked">row_def_checked</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-schema"><a href="#type-schema" class="anchor"></a><code><span><span class="keyword">type</span> <span>'config schema</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-build"><a href="#val-build" class="anchor"></a><code><span><span class="keyword">val</span> build : <span><span><span><span class="type-var">'config</span> <a href="#type-row">row</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'config</span> <a href="#type-schema">schema</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : <span><span class="type-var">'config</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Toml</span>.Types.table <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'config</span> <a href="#type-schema">schema</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'config</span> * int</span></code></div><div class="spec-doc"><p>Parses the table given the schema in argument and the initial (default) option. The first config value corresponds to the configuration the tool will use and the integer an identifier corresponding to the project related options of the config. Two confugurations will have the same identifier if they share their project related values.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_doc"><a href="#val-print_doc" class="anchor"></a><code><span><span class="keyword">val</span> print_doc : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-schema">schema</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_cmdliner"><a href="#val-to_cmdliner" class="anchor"></a><code><span><span class="keyword">val</span> to_cmdliner : 
  <span><span class="optlabel">?prefix</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'config</span> <a href="#type-schema">schema</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'config</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'config</span> <span class="xref-unresolved">Cmdliner</span>.Term.t</span></span></code></div><div class="spec-doc"><p>Translates an eztoml schema into a cmdliner term. Each key of the schema will be a different key ('_'s are transformed in '-'s) and <code>prefix</code>, if provided, prefixes each key. For example, a key <code>&quot;bar&quot;</code> prefixed with <code>&quot;foo&quot;</code> will be the command line <code>&quot;-foo-bar&quot;</code>.</p></div></div></div></body></html>

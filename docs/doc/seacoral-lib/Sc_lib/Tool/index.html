<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tool (seacoral-lib.Sc_lib.Tool)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">seacoral-lib</a> &#x00BB; <a href="../index.html">Sc_lib</a> &#x00BB; Tool</nav><header class="odoc-preamble"><h1>Module <code><span>Sc_lib.Tool</span></code></h1><p>Tool manager. Allows to define new tools that will manipulate the project (Klee, Libfuzzer, CBMC, Frama-C plug-ins, ...)</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-project_status"><a href="#type-project_status" class="anchor"></a><code><span><span class="keyword">type</span> project_status</span><span> = </span></code><ol><li id="type-project_status.AlreadyExists" class="def variant constructor anchored"><a href="#type-project_status.AlreadyExists" class="anchor"></a><code><span>| </span><span><span class="constructor">AlreadyExists</span></span></code></li><li id="type-project_status.Created" class="def variant constructor anchored"><a href="#type-project_status.Created" class="anchor"></a><code><span>| </span><span><span class="constructor">Created</span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tool_result"><a href="#type-tool_result" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a tool_result</span></span><span> = <span><span><span>(<span class="type-var">'a</span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Opt"><a href="#module-type-Opt" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Opt/index.html">Opt</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A single tool option.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-TomlSpec"><a href="#module-type-TomlSpec" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-TomlSpec/index.html">TomlSpec</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A module able to grab toml schemas. This is a signature for a functor M : ToolInit -&gt; GenericDocumenter</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-opt_module"><a href="#val-opt_module" class="anchor"></a><code><span><span class="keyword">val</span> opt_module : 
  <span><span>(<span class="keyword">module</span> <a href="module-type-TomlSpec/index.html">TomlSpec</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-TomlSpec/index.html#type-opt">opt</a> = <span class="type-var">'o</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Toml</span>.Types.table <span class="arrow">&#45;&gt;</span></span>
  <span>(<span class="keyword">module</span> <a href="module-type-Opt/index.html">Opt</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Opt/index.html#type-t">t</a> = <span class="type-var">'o</span>)</span></span></code></div><div class="spec-doc"><p>Search in the tool table the option corresponding to the toml specification.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-ToolInit"><a href="#module-type-ToolInit" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-ToolInit/index.html">ToolInit</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Tools that can initialize their workspace.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-GenericInitializer"><a href="#module-type-GenericInitializer" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-GenericInitializer/index.html">GenericInitializer</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A module able to initialize a project, i.e. preprocess files for a later use. This is a signature for a functor M : ToolInit -&gt; GenericInitializer</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-MakeGenericInitializer"><a href="#module-MakeGenericInitializer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="MakeGenericInitializer/index.html">MakeGenericInitializer</a></span><span>
  (<a href="MakeGenericInitializer/argument-1-Opt/index.html">Opt</a> : <a href="module-type-Opt/index.html">Opt</a>)
  (<a href="MakeGenericInitializer/argument-2-C/index.html">C</a> : <a href="../Config/module-type-T/index.html">Config.T</a>)
  (<a href="MakeGenericInitializer/argument-3-TestRepr/index.html">TestRepr</a> : <a href="../Ctypes_bridge/Struct/module-type-REPR/index.html">Ctypes_bridge.Struct.REPR</a>)
  (<a href="MakeGenericInitializer/argument-4-Tool/index.html">Tool</a> : <a href="module-type-ToolInit/index.html">ToolInit</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-ToolInit/index.html#type-opt">opt</a> = <a href="MakeGenericInitializer/argument-1-Opt/index.html#type-t">Opt.t</a></span>) : 
  <a href="module-type-GenericInitializer/index.html">GenericInitializer</a>
    <span class="keyword">with</span> <span><span class="keyword">module</span> <a href="module-type-GenericInitializer/TestRepr/index.html">TestRepr</a> = <a href="MakeGenericInitializer/argument-3-TestRepr/index.html">TestRepr</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-GenericInitializer/index.html#type-input_data">input_data</a> = <a href="MakeGenericInitializer/argument-4-Tool/index.html#type-input_data">Tool.input_data</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-GenericInitializer/index.html#type-working_data">working_data</a> = <a href="MakeGenericInitializer/argument-4-Tool/index.html#type-working_data">Tool.working_data</a></span>
     <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-GenericInitializer/index.html#type-opt">opt</a> = <a href="MakeGenericInitializer/argument-4-Tool/index.html#type-opt">Tool.opt</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-ProjectManager"><a href="#module-type-ProjectManager" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-ProjectManager/index.html">ProjectManager</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A database for handling all the static data, i.e. data that is not read by the tools during the analysis.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-RuntimeDatabase"><a href="#module-type-RuntimeDatabase" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-RuntimeDatabase/index.html">RuntimeDatabase</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A runtime database, updated by the dynamic analysis tools.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Database"><a href="#module-type-Database" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Database/index.html">Database</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The signature of a module that handles the databases of a project.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-ToolSig"><a href="#module-type-ToolSig" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html">ToolSig</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Tesing tools signature. Must be able to initialize their workspace and launch their tool.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Tester"><a href="#module-type-Tester" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Tester/index.html">Tester</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>A module manager thet is initialized by the next function `create_tool_accessor`. For each database `Db` creating a tool accessor, a tool accessor provides:</p><ul><li>`get_database`, returning the database used to build it;</li><li>`get_tester`, returning the tester module for each registered tool;</li><li>`register_tool_as_tester`, building a `Tester` from a `ToolSig` and registering as a tester for `Db`.</li></ul><div class="odoc-spec"><div class="spec type anchored" id="type-tool_accessor"><a href="#type-tool_accessor" class="anchor"></a><code><span><span class="keyword">type</span> <span>('data, 'x, 'rd) tool_accessor</span></span><span> = </span><span>{</span></code><ol><li id="type-tool_accessor.get_database" class="def record field anchored"><a href="#type-tool_accessor.get_database" class="anchor"></a><code><span>get_database : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'data</span>, <span class="type-var">'x</span>, <span class="type-var">'rd</span>)</span> <a href="#type-db">db</a></span>;</span></code></li><li id="type-tool_accessor.get_tester" class="def record field anchored"><a href="#type-tool_accessor.get_tester" class="anchor"></a><code><span>get_tester : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'data</span>, <span class="type-var">'x</span>, <span class="type-var">'rd</span>)</span> <a href="#type-tester">tester</a></span> option</span>;</span></code></li><li id="type-tool_accessor.register_tool" class="def record field anchored"><a href="#type-tool_accessor.register_tool" class="anchor"></a><code><span>register_tool : <span><span><span>(<span class="type-var">'data</span>, <span class="type-var">'x</span>, <span class="type-var">'rd</span>)</span> <a href="#type-tool">tool</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span>;</span></code></li><li id="type-tool_accessor.iter_configurables" class="def record field anchored"><a href="#type-tool_accessor.iter_configurables" class="anchor"></a><code><span>iter_configurables : <a href="#type-configurable_iterator">configurable_iterator</a>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-db"><a href="#type-db" class="anchor"></a><code><span><span class="keyword">and</span> <span>('d, 'x, 'r) db</span></span><span> =
  <span>(<span class="keyword">module</span> <a href="module-type-Database/index.html">Database</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Database/PM/index.html#type-working_data">PM.working_data</a> = <span class="type-var">'d</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Database/Runtime/index.html#type-runtime_data">Runtime.runtime_data</a> = <span class="type-var">'r</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Database/Runtime/index.html#type-working_data">Runtime.working_data</a> = <span class="type-var">'x</span>)</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tool"><a href="#type-tool" class="anchor"></a><code><span><span class="keyword">and</span> <span>('d, 'x, 'r) tool</span></span><span> = </span></code><ol><li id="type-tool.SimpleLabelTool" class="def variant constructor anchored"><a href="#type-tool.SimpleLabelTool" class="anchor"></a><code><span>| </span><span><span class="constructor">SimpleLabelTool</span> : <span>(<span class="keyword">module</span> <a href="module-type-Opt/index.html">Opt</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Opt/index.html#type-t">t</a> = <span class="type-var">'o</span>)</span>
  * <span>(<span class="keyword">module</span> <a href="module-type-ToolSig/index.html">ToolSig</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-input_data">input_data</a> = <span class="type-var">'x</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-label_family">label_family</a> = <span>[ `simple ]</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-opt">opt</a> = <span class="type-var">'o</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-runtime_data">runtime_data</a> = <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>, <span class="type-var">'r</span>)</span> <a href="#type-tool">tool</a></span></span></code></li><li id="type-tool.AnyLabelTool" class="def variant constructor anchored"><a href="#type-tool.AnyLabelTool" class="anchor"></a><code><span>| </span><span><span class="constructor">AnyLabelTool</span> : <span>(<span class="keyword">module</span> <a href="module-type-Opt/index.html">Opt</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Opt/index.html#type-t">t</a> = <span class="type-var">'o</span>)</span>
  * <span>(<span class="keyword">module</span> <a href="module-type-ToolSig/index.html">ToolSig</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-input_data">input_data</a> = <span class="type-var">'x</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-label_family">label_family</a> = <a href="../Types/Label/index.html#type-any">Types.Label.any</a>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-opt">opt</a> = <span class="type-var">'o</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-ToolSig/index.html#type-runtime_data">runtime_data</a> = <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>, <span class="type-var">'r</span>)</span> <a href="#type-tool">tool</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tester"><a href="#type-tester" class="anchor"></a><code><span><span class="keyword">and</span> <span>('d, 'x, 'r) tester</span></span><span> = </span></code><ol><li id="type-tester.SimpleLabelTester" class="def variant constructor anchored"><a href="#type-tester.SimpleLabelTester" class="anchor"></a><code><span>| </span><span><span class="constructor">SimpleLabelTester</span> : <span>(<span class="keyword">module</span> <a href="module-type-Tester/index.html">Tester</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Tester/index.html#type-input_data">input_data</a> = <span class="type-var">'x</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Tester/index.html#type-label_family">label_family</a> = <span>[ `simple ]</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Tester/index.html#type-runtime_data">runtime_data</a> = <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>, <span class="type-var">'r</span>)</span> <a href="#type-tester">tester</a></span></span></code></li><li id="type-tester.AnyLabelTester" class="def variant constructor anchored"><a href="#type-tester.AnyLabelTester" class="anchor"></a><code><span>| </span><span><span class="constructor">AnyLabelTester</span> : <span>(<span class="keyword">module</span> <a href="module-type-Tester/index.html">Tester</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Tester/index.html#type-input_data">input_data</a> = <span class="type-var">'x</span>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Tester/index.html#type-label_family">label_family</a> = <a href="../Types/Label/index.html#type-any">Types.Label.any</a>
   <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Tester/index.html#type-runtime_data">runtime_data</a> = <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span> <span><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>, <span class="type-var">'r</span>)</span> <a href="#type-tester">tester</a></span></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-configurable"><a href="#type-configurable" class="anchor"></a><code><span><span class="keyword">and</span> configurable</span><span> = <span>(<span class="keyword">module</span> <a href="module-type-TomlSpec/index.html">TomlSpec</a>)</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-configurable_iterator"><a href="#type-configurable_iterator" class="anchor"></a><code><span><span class="keyword">and</span> configurable_iterator</span><span> = <span><span>(<span><a href="#type-configurable">configurable</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_tool_accessor"><a href="#val-create_tool_accessor" class="anchor"></a><code><span><span class="keyword">val</span> create_tool_accessor : 
  <span><span>(<span class="keyword">module</span> <a href="module-type-Database/index.html">Database</a>
    <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Database/PM/index.html#type-working_data">PM.working_data</a> = <span class="type-var">'d</span>
     <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Database/Runtime/index.html#type-runtime_data">Runtime.runtime_data</a> = <span class="type-var">'rd</span>
     <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-Database/Runtime/index.html#type-working_data">Runtime.working_data</a> = <span class="type-var">'x</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="keyword">module</span> <a href="../Config/module-type-T/index.html">Config.T</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="type-var">'d</span>, <span class="type-var">'x</span>, <span class="type-var">'rd</span>)</span> <a href="#type-tool_accessor">tool_accessor</a></span></span></code></div><div class="spec-doc"><p>Creates a tool accessor from a Database</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-SIMPLE_LABEL"><a href="#module-type-SIMPLE_LABEL" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-SIMPLE_LABEL/index.html">SIMPLE_LABEL</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Module type for tools with simple label criterion</p></div></div></div></body></html>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>File (seacoral-sys.Sc_sys.File)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">seacoral-sys</a> &#x00BB; <a href="../index.html">Sc_sys</a> &#x00BB; File</nav><header class="odoc-preamble"><h1>Module <code><span>Sc_sys.File</span></code></h1><p>A module for handling files. When a file value is created, it is ensured to exist. When creating a file value, one must make sure the directory in which the file is created exists, otherwise this module will raise an exception.</p></header><nav class="odoc-toc"><ul><li><a href="#basics">Basics</a></li><li><a href="#sanity-checks">Sanity checks</a><ul><li><a href="#helpers-for-sanity-checks">Helpers for sanity checks</a></li></ul></li><li><a href="#&quot;creation&quot;-functions">&quot;Creation&quot; functions</a></li><li><a href="#&quot;touching&quot;">&quot;Touching&quot;</a></li><li><a href="#channels">Channels</a></li><li><a href="#removal">Removal</a></li><li><a href="#linking-and-copying">Linking and copying</a></li><li><a href="#searching-among-files-or-directories">Searching among files or directories</a></li><li><a href="#digest/hash-file-or-directory-contents">Digest/hash file or directory contents</a></li><li><a href="#syntax-extensions">Syntax extensions</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-TYPES"><a href="#module-TYPES" class="anchor"></a><code><span><span class="keyword">module</span> <a href="TYPES/index.html">TYPES</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="TYPES/index.html">TYPES</a>
  <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="TYPES/index.html#type-file">file</a></span> = <span><span class="type-var">'a</span> <a href="TYPES/index.html#type-file">TYPES.file</a></span></span>
   <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="TYPES/index.html#type-dir">dir</a> = <a href="TYPES/index.html#type-dir">TYPES.dir</a></span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-file"><a href="#type-file" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a file</span></span><span> = <span><span class="type-var">'a</span> <a href="TYPES/index.html#type-file">TYPES.file</a></span></span></code></div><div class="spec-doc"><p>The type of files. Having such a value ensures the file actually exists (unless it is removed by other means).</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-dir"><a href="#type-dir" class="anchor"></a><code><span><span class="keyword">type</span> dir</span><span> = <a href="TYPES/index.html#type-dir">TYPES.dir</a></span></code></div><div class="spec-doc"><p>An alias for directories</p></div></div><h3 id="exceptions"><a href="#exceptions" class="anchor"></a>Exceptions</h3><div class="odoc-spec"><div class="spec exception anchored" id="exception-INVALID_FILENAME"><a href="#exception-INVALID_FILENAME" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">INVALID_FILENAME</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-MISSING"><a href="#exception-MISSING" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">MISSING</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-File.file" class="def record field anchored"><a href="#module-File.file" class="anchor"></a><code><span>file : 'a. <span><span class="type-var">'a</span> <a href="#type-file">file</a></span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-UNEXPECTED"><a href="#exception-UNEXPECTED" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">UNEXPECTED</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="module-File.file" class="def record field anchored"><a href="#module-File.file" class="anchor"></a><code><span>file : 'a. <span><span class="type-var">'a</span> <a href="#type-file">file</a></span>;</span></code></li></ol><code><span>}</span></code></div></div></details></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><span class="type-var">'a</span> <a href="#type-file">file</a></span></span></code></div></div><h3 id="basics"><a href="#basics" class="anchor"></a>Basics</h3><div class="odoc-spec"><div class="spec value anchored" id="val-name"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns the file name given at creation.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-basename"><a href="#val-basename" class="anchor"></a><code><span><span class="keyword">val</span> basename : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns the base name of the file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-absname"><a href="#val-absname" class="anchor"></a><code><span><span class="keyword">val</span> absname : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns the absolute path of the file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dirname"><a href="#val-dirname" class="anchor"></a><code><span><span class="keyword">val</span> dirname : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Returns the directory name containing the file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print"><a href="#val-print" class="anchor"></a><code><span><span class="keyword">val</span> print : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Prints a file (given) name</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_basename"><a href="#val-print_basename" class="anchor"></a><code><span><span class="keyword">val</span> print_basename : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Prints the basename of a file</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_dir"><a href="#val-is_dir" class="anchor"></a><code><span><span class="keyword">val</span> is_dir : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stat"><a href="#val-stat" class="anchor"></a><code><span><span class="keyword">val</span> stat : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Unix</span>.stats</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-descriptor"><a href="#val-descriptor" class="anchor"></a><code><span><span class="keyword">val</span> descriptor : 
  <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Unix</span>.open_flag list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Unix</span>.file_perm <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Unix</span>.file_descr</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-check_suffix"><a href="#val-check_suffix" class="anchor"></a><code><span><span class="keyword">val</span> check_suffix : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>check_suffix file suff</code> checks whether <code>suff</code> is a suffix for the basename of <code>file</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-chop_suffix"><a href="#val-chop_suffix" class="anchor"></a><code><span><span class="keyword">val</span> chop_suffix : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dir"><a href="#val-dir" class="anchor"></a><code><span><span class="keyword">val</span> dir : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir">dir</a></span></code></div><div class="spec-doc"><p>Both <code>dir f</code> and <code>parent f</code> return the directory containing <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parent"><a href="#val-parent" class="anchor"></a><code><span><span class="keyword">val</span> parent : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir">dir</a></span></code></div></div><h3 id="sanity-checks"><a href="#sanity-checks" class="anchor"></a>Sanity checks</h3><div class="odoc-spec"><div class="spec value anchored" id="val-fail_on_missing"><a href="#val-fail_on_missing" class="anchor"></a><code><span><span class="keyword">val</span> fail_on_missing : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fail_on_missing_dir"><a href="#val-fail_on_missing_dir" class="anchor"></a><code><span><span class="keyword">val</span> fail_on_missing_dir : <span><a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fail_on_existing"><a href="#val-fail_on_existing" class="anchor"></a><code><span><span class="keyword">val</span> fail_on_existing : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h4 id="helpers-for-sanity-checks"><a href="#helpers-for-sanity-checks" class="anchor"></a>Helpers for sanity checks</h4><div class="odoc-spec"><div class="spec value anchored" id="val-missing"><a href="#val-missing" class="anchor"></a><code><span><span class="keyword">val</span> missing : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unexpected"><a href="#val-unexpected" class="anchor"></a><code><span><span class="keyword">val</span> unexpected : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> exn</span></code></div></div><h3 id="&quot;creation&quot;-functions"><a href="#&quot;creation&quot;-functions" class="anchor"></a>&quot;Creation&quot; functions</h3><p>Not necessarily reflected on the filesystem: please use sanity checks when relevant.</p><div class="odoc-spec"><div class="spec value anchored" id="val-check_name"><a href="#val-check_name" class="anchor"></a><code><span><span class="keyword">val</span> check_name : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>check_name filename</code> raises <a href="#exception-INVALID_FILENAME"><code>INVALID_FILENAME</code></a> if <code>filename</code> does not desribe a valid name for a file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-from_name"><a href="#val-from_name" class="anchor"></a><code><span><span class="keyword">val</span> from_name : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><p>Creation functions below return file representations, and may perform various checks. The three first variants below do not actually perform any modification on the filesystem.</p><ul><li><pre>assume*</pre><p>variants only check for invalid file names;</p></li></ul><ul><li><pre>existing*</pre><p>variants may additionally raise <a href="#exception-MISSING"><code>MISSING</code></a> if the given file does not exist upon call;</p></li></ul><ul><li><pre>not*</pre><p>variants may additionally raise <a href="#exception-UNEXPECTED"><code>UNEXPECTED</code></a> if the given file exists upon call, and <a href="#exception-MISSING"><code>MISSING</code></a> if the parent directory does not exist;</p></li></ul><ul><li><pre>create_empty*</pre><p>acts like equivalent </p><pre>not*</pre><p>variants, except that the file is actually created;</p></li></ul><ul><li><pre>mkdir*</pre><p>variants creates a directory (recursively ascending to it parents if they do not exist --- equivalently to &quot;<code>mkdir -p</code>&quot;). May raise <a href="#exception-UNEXPECTED"><code>UNEXPECTED</code></a> when a file is encountered in place of a directory;</p></li></ul><div class="odoc-spec"><div class="spec value anchored" id="val-assume"><a href="#val-assume" class="anchor"></a><code><span><span class="keyword">val</span> assume : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assume_in"><a href="#val-assume_in" class="anchor"></a><code><span><span class="keyword">val</span> assume_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assume_dir"><a href="#val-assume_dir" class="anchor"></a><code><span><span class="keyword">val</span> assume_dir : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir">dir</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assume_dir_in"><a href="#val-assume_dir_in" class="anchor"></a><code><span><span class="keyword">val</span> assume_dir_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir">dir</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-existing"><a href="#val-existing" class="anchor"></a><code><span><span class="keyword">val</span> existing : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-existing_in"><a href="#val-existing_in" class="anchor"></a><code><span><span class="keyword">val</span> existing_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-existing_dir"><a href="#val-existing_dir" class="anchor"></a><code><span><span class="keyword">val</span> existing_dir : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-existing_dir_in"><a href="#val-existing_dir_in" class="anchor"></a><code><span><span class="keyword">val</span> existing_dir_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-not_"><a href="#val-not_" class="anchor"></a><code><span><span class="keyword">val</span> not_ : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-not_in"><a href="#val-not_in" class="anchor"></a><code><span><span class="keyword">val</span> not_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_empty"><a href="#val-create_empty" class="anchor"></a><code><span><span class="keyword">val</span> create_empty : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_empty_in"><a href="#val-create_empty_in" class="anchor"></a><code><span><span class="keyword">val</span> create_empty_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mkdir"><a href="#val-mkdir" class="anchor"></a><code><span><span class="keyword">val</span> mkdir : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir">dir</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mkdir_in"><a href="#val-mkdir_in" class="anchor"></a><code><span><span class="keyword">val</span> mkdir_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir">dir</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-PRETTY"><a href="#module-PRETTY" class="anchor"></a><code><span><span class="keyword">module</span> <a href="PRETTY/index.html">PRETTY</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h3 id="&quot;touching&quot;"><a href="#&quot;touching&quot;" class="anchor"></a>&quot;Touching&quot;</h3><p>(create if missing)</p><div class="odoc-spec"><div class="spec value anchored" id="val-touch"><a href="#val-touch" class="anchor"></a><code><span><span class="keyword">val</span> touch : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-touch_in"><a href="#val-touch_in" class="anchor"></a><code><span><span class="keyword">val</span> touch_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-touch_dir"><a href="#val-touch_dir" class="anchor"></a><code><span><span class="keyword">val</span> touch_dir : <span><a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h3 id="channels"><a href="#channels" class="anchor"></a>Channels</h3><div class="odoc-spec"><div class="spec value anchored" id="val-open_append"><a href="#val-open_append" class="anchor"></a><code><span><span class="keyword">val</span> open_append : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.out_channel</span></code></div><div class="spec-doc"><p><code>open_append file</code> returns an out_channel for appending on <code>file</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-safe_open_in"><a href="#val-safe_open_in" class="anchor"></a><code><span><span class="keyword">val</span> safe_open_in : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="xref-unresolved">Stdlib</span>.in_channel <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>safe_open_in file cont</code> Opens an in channel on `file` and applies `cont` on the channel. If any exception is raised out of `cont` or `cont` finishes its execution, the channel is closed.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-safe_open_out"><a href="#val-safe_open_out" class="anchor"></a><code><span><span class="keyword">val</span> safe_open_out : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>safe_open_out file cont</code> Opens an out channel on `file` and applies `cont` on the channel. If any exception is raised out of `cont`, the channel is closed.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-safe_open_append"><a href="#val-safe_open_append" class="anchor"></a><code><span><span class="keyword">val</span> safe_open_append : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>safe_open_append file cont</code> opens an out channel for appending on `file` and applies `cont` on the channel. If any exception is raised out of `cont`, the channel is closed.</p></div></div><h3 id="removal"><a href="#removal" class="anchor"></a>Removal</h3><div class="odoc-spec"><div class="spec value anchored" id="val-unlink"><a href="#val-unlink" class="anchor"></a><code><span><span class="keyword">val</span> unlink : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Removes a file. If the file is a directory, raises:</p><ul><li><code>EPERM</code> on POSIX compliant system</li><li><code>EISDIR</code> on Linux &gt;= 2.1.132</li><li><code>EACCESS</code> on Windows</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rename_away"><a href="#val-rename_away" class="anchor"></a><code><span><span class="keyword">val</span> rename_away : <span><span class="label">old_file</span>:<span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">new_basename</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">_</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>rename_away ~old_file ~new_basename</code> renames <code>old_file</code> by <code>path_to_old_file/new_basename</code>. Appends a time-dependent suffix to <code>new_basename</code> in order to make the new filename unique.</p><p>Returns the name of the replacement file.</p></div></div><h3 id="linking-and-copying"><a href="#linking-and-copying" class="anchor"></a>Linking and copying</h3><div class="odoc-spec"><div class="spec value anchored" id="val-copy_in"><a href="#val-copy_in" class="anchor"></a><code><span><span class="keyword">val</span> copy_in : <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>copy_in ~dir file</code> Creates a copy of <code>file</code> in <code>dir</code>. Replaces any existing file from <code>dir</code> that has the same basename as <code>file</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-link"><a href="#val-link" class="anchor"></a><code><span><span class="keyword">val</span> link : <span><span class="optlabel">?dry</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-link_as"><a href="#val-link_as" class="anchor"></a><code><span><span class="keyword">val</span> link_as : <span><span class="optlabel">?dry</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-link_in_dir"><a href="#val-link_in_dir" class="anchor"></a><code><span><span class="keyword">val</span> link_in_dir : <span><span class="optlabel">?dry</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">dir</span>:<a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div><h3 id="searching-among-files-or-directories"><a href="#searching-among-files-or-directories" class="anchor"></a>Searching among files or directories</h3><div class="odoc-spec"><div class="spec value anchored" id="val-find_first_dir"><a href="#val-find_first_dir" class="anchor"></a><code><span><span class="keyword">val</span> find_first_dir : <span><span><a href="#type-dir">dir</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-dir">dir</a></span></code></div><div class="spec-doc"><p><code>find_first_dir dirnames</code> returns the first element in <code>dirnames</code> that is the relative or absolute name of an existing directory, raises <code>Not_found</code> otherwise.</p></div></div><h3 id="digest/hash-file-or-directory-contents"><a href="#digest/hash-file-or-directory-contents" class="anchor"></a>Digest/hash file or directory contents</h3><div class="odoc-spec"><div class="spec value anchored" id="val-digest"><a href="#val-digest" class="anchor"></a><code><span><span class="keyword">val</span> digest : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.Digest.t</span></code></div><div class="spec-doc"><p><code>digest f</code> assumes <code>f</code> is a regular file</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hash_files"><a href="#val-hash_files" class="anchor"></a><code><span><span class="keyword">val</span> hash_files : <span><span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hash_dir"><a href="#val-hash_dir" class="anchor"></a><code><span><span class="keyword">val</span> hash_dir : <span><a href="#type-dir">dir</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><h3 id="syntax-extensions"><a href="#syntax-extensions" class="anchor"></a>Syntax extensions</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Syntax"><a href="#module-Syntax" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Syntax/index.html">Syntax</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>

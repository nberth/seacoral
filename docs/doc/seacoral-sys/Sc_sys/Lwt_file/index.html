<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lwt_file (seacoral-sys.Sc_sys.Lwt_file)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">seacoral-sys</a> &#x00BB; <a href="../index.html">Sc_sys</a> &#x00BB; Lwt_file</nav><header class="odoc-preamble"><h1>Module <code><span>Sc_sys.Lwt_file</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#lwt-specific-routines-for-handling-files.">Lwt-specific routines for handling files.</a><ul><li><a href="#management-of-symbolic-links">Management of symbolic links</a></li><li><a href="#syntax-extensions">Syntax extensions</a></li></ul></li></ul></nav><div class="odoc-content"><h2 id="lwt-specific-routines-for-handling-files."><a href="#lwt-specific-routines-for-handling-files." class="anchor"></a>Lwt-specific routines for handling files.</h2><div class="odoc-spec"><div class="spec value anchored" id="val-descriptor"><a href="#val-descriptor" class="anchor"></a><code><span><span class="keyword">val</span> descriptor : 
  <span><span><span class="type-var">'a</span> <a href="../File/index.html#type-t">File.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="xref-unresolved">Unix</span>.open_flag list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Unix</span>.file_perm <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Lwt_unix</span>.file_descr <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span><span class="type-var">_</span> <a href="../File/index.html#type-t">File.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-misses"><a href="#val-misses" class="anchor"></a><code><span><span class="keyword">val</span> misses : <span><span><span class="type-var">_</span> <a href="../File/index.html#type-t">File.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stat"><a href="#val-stat" class="anchor"></a><code><span><span class="keyword">val</span> stat : <span><span><span class="type-var">_</span> <a href="../File/index.html#type-t">File.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Unix</span>.stats <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-link"><a href="#val-link" class="anchor"></a><code><span><span class="keyword">val</span> link : <span><span class="optlabel">?dry</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../File/index.html#type-t">File.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../File/index.html#type-t">File.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mkdir"><a href="#val-mkdir" class="anchor"></a><code><span><span class="keyword">val</span> mkdir : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../File/index.html#type-dir">File.dir</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>mkdir dir</code> Applies the command `mkdir -p dir` iff `dir` does not contain any of the following characters: ' ', '&amp;', ' ', '|', ';'. Raises `Exceptions.Invalid_dir_name dir` otherwise</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-dir_is_empty"><a href="#val-dir_is_empty" class="anchor"></a><code><span><span class="keyword">val</span> dir_is_empty : <span><a href="../File/index.html#type-dir">File.dir</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the directory in argument is empty.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-files_of_dir"><a href="#val-files_of_dir" class="anchor"></a><code><span><span class="keyword">val</span> files_of_dir : <span><a href="../File/index.html#type-dir">File.dir</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../File/index.html#type-t">File.t</a></span> <span class="xref-unresolved">Lwt_stream</span>.t</span></span></code></div><div class="spec-doc"><p><code>files_of_dir dir</code> streams the names of all regular files (i.e., not directories) in <code>dir</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unlink_files_of_dir"><a href="#val-unlink_files_of_dir" class="anchor"></a><code><span><span class="keyword">val</span> unlink_files_of_dir : <span><a href="../File/index.html#type-dir">File.dir</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>unlink_files_of_dir dir</code> unlinks (i.e, removes) every regular file within <code>dir</code>.</p></div></div><h3 id="management-of-symbolic-links"><a href="#management-of-symbolic-links" class="anchor"></a>Management of symbolic links</h3><div class="odoc-spec"><div class="spec value anchored" id="val-resymlink"><a href="#val-resymlink" class="anchor"></a><code><span><span class="keyword">val</span> resymlink : <span><span class="label">to_dir</span>:bool <span class="arrow">&#45;&gt;</span></span> <span><span class="label">src</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">dst</span>:string <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>resymlink ~to_dir ~src ~dst</code> creates or replaces a symbolic link <code>dst</code> to <code>src</code>. See <code>Unix.symlink</code> for restrictions, and semantics of <code>to_dir</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-newsymlink"><a href="#val-newsymlink" class="anchor"></a><code><span><span class="keyword">val</span> newsymlink : 
  <span><span class="label">to_dir</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">src</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">dstformat</span>:<span>(<span>int <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>newsymlink ~to_dir ~src ~dstformat</code> creates a new symbolic link to <code>src</code>. The name of the link is returned; it is formed using <code>dstformat</code> with a sequence of increasing strictly positive Integers, and selecting the first name available for a symbolic link.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-redirect_symlinks_of"><a href="#val-redirect_symlinks_of" class="anchor"></a><code><span><span class="keyword">val</span> redirect_symlinks_of : 
  <span><span class="label">dir</span>:<a href="../File/index.html#type-dir">File.dir</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">src</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">dst</span>:<a href="../File/index.html#type-dir">File.dir</a> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>redirect_symlinks_of ~dir ~src ~dst</code> updates all symbolic directories of <code>dir</code> that point to the entry basename <code>src</code> (within <code>dir</code>) so that it points to the entry whose basename is <code>dst</code> (within <code>dir</code> as well).</p></div></div><h3 id="syntax-extensions"><a href="#syntax-extensions" class="anchor"></a>Syntax extensions</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Syntax"><a href="#module-Syntax" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Syntax/index.html">Syntax</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>

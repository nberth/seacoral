<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Init (seacoral-main.Sc.Init)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">seacoral-main</a> &#x00BB; <a href="../index.html">Sc</a> &#x00BB; Init</nav><header class="odoc-preamble"><h1>Module <code><span>Sc.Init</span></code></h1><p>Interface for initializing the tools by calling the functors with the correct configuration. Each tool listed in this module (see `to_init`) will be set up with the configuration provided by the command line or the configuration file.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-GenericInit"><a href="#module-type-GenericInit" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-GenericInit/index.html">GenericInit</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The signature of a tool to initialize.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-SimpleInit"><a href="#module-type-SimpleInit" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-SimpleInit/index.html">SimpleInit</a></span><span> = <a href="module-type-GenericInit/index.html">GenericInit</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-GenericInit/index.html#type-label_family">label_family</a> := <span>[ `simple ]</span></span></span></code></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-AnyInit"><a href="#module-type-AnyInit" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-AnyInit/index.html">AnyInit</a></span><span> =
  <a href="module-type-GenericInit/index.html">GenericInit</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-GenericInit/index.html#type-label_family">label_family</a> := <a href="../../../seacoral-lib/Sc_lib/Types/Label/index.html#type-any">Sc_lib.Types.Label.any</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-InitWithOpts"><a href="#module-type-InitWithOpts" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-InitWithOpts/index.html">InitWithOpts</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-init_data"><a href="#type-init_data" class="anchor"></a><code><span><span class="keyword">type</span> init_data</span><span> = </span><span>{</span></code><ol><li id="type-init_data.config" class="def record field anchored"><a href="#type-init_data.config" class="anchor"></a><code><span>config : <span>(<span class="keyword">module</span> <a href="../../../seacoral-lib/Sc_lib/Config/module-type-T/index.html">Sc_lib.Config.T</a>)</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The configuration of the project.</p><span class="comment-delim">*)</span></div></li><li id="type-init_data.staticdb_params" class="def record field anchored"><a href="#type-init_data.staticdb_params" class="anchor"></a><code><span>staticdb_params : <span>(<span class="keyword">module</span> <a href="../../../seacoral-lib/Sc_lib/Tool/module-type-Opt/index.html">Sc_lib.Tool.Opt</a>
  <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../seacoral-lib/Sc_lib/Tool/module-type-Opt/index.html#type-t">t</a> = <a href="../../../seacoral-staticdb/Sc_staticdb/Main/TomlSpec/index.html#type-opt">Sc_staticdb.Main.TomlSpec.opt</a>)</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The parameters of the static database, which is today handled by the lannot file.</p><span class="comment-delim">*)</span></div></li><li id="type-init_data.tools" class="def record field anchored"><a href="#type-init_data.tools" class="anchor"></a><code><span>tools : <span><span>(<span class="keyword">module</span> <a href="module-type-InitWithOpts/index.html">InitWithOpts</a>)</span> list</span>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>The tools to initialize.</p><span class="comment-delim">*)</span></div></li><li id="type-init_data.close_logs" class="def record field anchored"><a href="#type-init_data.close_logs" class="anchor"></a><code><span>close_logs : <span>unit <span class="arrow">&#45;&gt;</span></span> unit;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Closes the log channel, opened by the function generating this <code>init_data</code> value.</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>All the modules needed to interact with the different tools after initialization.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-setup"><a href="#val-setup" class="anchor"></a><code><span><span class="keyword">val</span> setup : 
  <span><span class="optlabel">?enable_console_timing</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?enable_logfile</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?only_with_config_file</span>:<span><span>[ `toml ]</span> <a href="../../../seacoral-sys/Sc_sys/File/TYPES/index.html#type-file">Sc_sys.File.TYPES.file</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-init_data">init_data</a> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Initializes the different modules after reading the command line arguments (argv) and the content of the config file (&quot;config.toml&quot;). Param `enable_console_timing` makes the output cleaner for the console. Param `enable_logfile` redirects the logs to a file &quot;<code>x</code>.log&quot; where `x` is run number. Param `only_with_config_file` specifies a file to use as the only source of configuration for the run.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_tools"><a href="#val-init_tools" class="anchor"></a><code><span><span class="keyword">val</span> init_tools : 
  <span><span>(<span class="keyword">module</span> <a href="../../../seacoral-lib/Sc_lib/Ctypes_bridge/Struct/module-type-REPR/index.html">Sc_lib.Ctypes_bridge.Struct.REPR</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../seacoral-lib/Sc_lib/Ctypes_bridge/Struct/module-type-REPR/Val/index.html#type-t">Val.t</a> = <span class="type-var">'r</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-init_data">init_data</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span><span>(<a href="../../../seacoral-lib/Sc_lib/Types/index.html#type-project_data">Sc_lib.Types.project_data</a>,
     <a href="../../../seacoral-shareddb/Sc_shareddb/Main/index.html#type-working_data">Sc_shareddb.Main.working_data</a>,
     <span><span class="type-var">'r</span> <a href="../../../seacoral-shareddb/Sc_shareddb/Main/index.html#type-runtime_data">Sc_shareddb.Main.runtime_data</a></span>)</span>
     <a href="../../../seacoral-lib/Sc_lib/Tool/index.html#type-tool_accessor">Sc_lib.Tool.tool_accessor</a></span>,
    string)</span>
    <span class="xref-unresolved">Stdlib</span>.result</span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p>Initializes the tools with the unified C types representation and configuration. Returns a tool accessor (see <a href="../../../seacoral-lib/Sc_lib/Tool/index.html"><code>Sc_lib.Tool</code></a> for a complete documentation of tool accessors).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_config_docs"><a href="#val-pp_config_docs" class="anchor"></a><code><span><span class="keyword">val</span> pp_config_docs : 
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../seacoral-lib/Sc_lib/Tool/index.html#type-tool_accessor">Sc_lib.Tool.tool_accessor</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Prints the configuration options of the tool accessor.</p></div></div></div></body></html>
